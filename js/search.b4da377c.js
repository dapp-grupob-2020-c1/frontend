(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["search"],{"2d3b":function(t,e,r){"use strict";r.r(e);var a=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("b-container",{staticClass:"my-5"},[r("b-breadcrumb",[r("b-breadcrumb-item",{attrs:{to:"/dashboard"}},[t._v(" "+t._s(t.$t("dashboard.dashboard"))+" ")]),r("b-breadcrumb-item",{attrs:{active:"",to:"/search"}},[t._v(" "+t._s(t.$t("search.searchProducts"))+" ")])],1),r("h1",{staticClass:"h1"},[t._v(" "+t._s(t.$t("search.searchProducts"))+" ")]),r("ErrorAlert",{attrs:{"request-info":t.requestInfo}}),r("b-card",[r("form",{on:{submit:function(e){return e.preventDefault(),t.handleSearch(e)}}},[r("b-input-group",{scopedSlots:t._u([{key:"append",fn:function(){return[r("b-button",{attrs:{block:"",variant:"primary",type:"submit"}},[t._v(" "+t._s(t.$t("search.beginSearch"))+" ")])]},proxy:!0}])},[r("b-form-input",{attrs:{id:"query",name:"query"},model:{value:t.searchQuery,callback:function(e){t.searchQuery=e},expression:"searchQuery"}})],1),r("div",{staticClass:"search-options mt-3"},[r("h3",{staticClass:"h5"},[t._v(t._s(t.$t("search.searchOptions")))]),r("b-form-group",{attrs:{label:"Ubicaci√≥n"}},[r("b-form-radio-group",{attrs:{id:"radio-location",options:t.userLocationsList,"value-field":"id","text-field":"address",name:"location"},model:{value:t.selectedLocation,callback:function(e){t.selectedLocation=e},expression:"selectedLocation"}})],1)],1)],1)]),r("div",{staticClass:"mb-5"},[r("h2",{staticClass:"h3"},[t._v(t._s(t.$t("search.searchResults")))]),t._l(t.searchResults,(function(t){return r("ProductListItem",{key:t.id,attrs:{product:t}})}))],2)],1)},s=[],o=(r("96cf"),r("1da1")),n=r("966e"),c=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("b-card",{attrs:{title:t.product.name}},[r("pre",[t._v("  "+t._s(t.product)+"\n  ")]),r("b-button",{attrs:{variant:"primary"},on:{click:t.handleAddToCart}},[t._v(" "+t._s(t.$t("product.addToCart"))+" ")])],1)},i=[],u=(r("99af"),r("b0c0"),r("e61d")),d={name:"ProductListItem",props:{product:{required:!0}},data:function(){return{quantity:1}},computed:{},methods:{handleAddToCart:function(){var t={product:this.product.name,quantity:this.quantity},e="".concat(t.quantity," x ").concat(t.product," ").concat(this.$t("product.addedToCart"));this.$store.dispatch("buyer/addItemToCart",t),this.$root.$bvToast.toast(e,u["a"])}}},l=d,h=r("2877"),p=Object(h["a"])(l,c,i,!1,null,null,null),b=p.exports,m=r("ee46"),f={name:"Search",components:{ErrorAlert:m["a"],ProductListItem:b},data:function(){return{requestInfo:{loading:!1,error:!1,errorMessageKey:"",errorAdditionalInfo:""},searchQuery:"",searchResults:[],selectedLocation:null}},mounted:function(){this.selectedLocation=this.userLocationsList[0].id||null},computed:{userLocationsList:function(){return this.$store.state.user.locations}},methods:{handleSearch:function(){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function e(){var r,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r={locationId:t.selectedLocation,keyword:t.searchQuery},t.requestInfo={loading:!0,error:!1,errorMessageKey:"",errorAdditionalInfo:""},e.prev=2,e.next=5,Object(n["b"])(r);case 5:a=e.sent,t.searchResults=a.data,e.next=12;break;case 9:e.prev=9,e.t0=e["catch"](2),t.requestInfo.error=!0;case 12:return e.prev=12,t.requestInfo.loading=!1,e.finish(12);case 15:case"end":return e.stop()}}),e,null,[[2,9,12,15]])})))()}}},v=f,y=Object(h["a"])(v,a,s,!1,null,null,null);e["default"]=y.exports}}]);
//# sourceMappingURL=search.b4da377c.js.map