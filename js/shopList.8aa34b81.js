(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["shopList"],{"1b22":function(t,e,r){"use strict";r.d(e,"b",(function(){return a})),r.d(e,"a",(function(){return i}));r("b0c0"),r("96cf");var s=r("1da1"),n=r("a93f");function a(t){return o.apply(this,arguments)}function o(){return o=Object(s["a"])(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",Object(n["a"])({method:"GET",url:"/shop",params:{shopId:e}}));case 1:case"end":return t.stop()}}),t)}))),o.apply(this,arguments)}function i(t){return u.apply(this,arguments)}function u(){return u=Object(s["a"])(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",Object(n["a"])({method:"DELETE",url:"/shop",params:{shopId:e}}));case 1:case"end":return t.stop()}}),t)}))),u.apply(this,arguments)}},"51af":function(t,e,r){"use strict";var s=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"shop-details"},[r("h2",{staticClass:"h3"},[t._v(t._s(t.shop.name))]),r("p",[t._v(t._s(t.shop.location.address))]),r("p",[t._v(t._s(t.$t("shop.deliveryRadius"))+": "+t._s(t.shop.deliveryRadius)+" Km")]),t.expanded?r("div",{staticClass:"shop-categories"},[r("h3",{staticClass:"h6"},[t._v(t._s(t.$t("shop.categories")))]),r("p",t._l(t.shop.categories,(function(e){return r("b-badge",{key:e,attrs:{variant:"secondary"}},[t._v(" "+t._s(e)+" ")])})),1),r("h3",{staticClass:"h6"},[t._v(t._s(t.$t("shop.paymentMethods")))]),r("p",t._l(t.shop.paymentMethods,(function(e){return r("b-badge",{key:e,attrs:{variant:"secondary"}},[t._v(t._s(e))])})),1),r("h3",{staticClass:"h6"},[t._v(t._s(t.$t("shop.openingDays")))]),r("p",[t._v(" "+t._s(t.shop.openingHour)+"-"+t._s(t.shop.closingHour)+", "),t._l(t.shop.days,(function(e){return r("b-badge",{key:e,attrs:{variant:"secondary"}},[t._v(t._s(e))])}))],2)]):t._e()])},n=[],a={name:"ShopDetails",props:{shop:{type:Object,required:!0},expanded:{type:Boolean,default:!1}}},o=a,i=r("2877"),u=Object(i["a"])(o,s,n,!1,null,null,null);e["a"]=u.exports},"83f2":function(t,e,r){"use strict";r.r(e);var s=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("b-container",{staticClass:"my-5"},[r("b-breadcrumb",[r("b-breadcrumb-item",{attrs:{to:"/dashboard"}},[t._v(" "+t._s(t.$t("dashboard.dashboard"))+" ")]),r("b-breadcrumb-item",{attrs:{active:"",to:"/shops"}},[t._v(" "+t._s(t.$t("shop.shopList"))+" ")])],1),r("h1",{staticClass:"h1"},[t._v(" "+t._s(t.$t("shop.shopList"))+" ")]),r("ErrorAlert",{attrs:{"request-info":t.requestInfo}}),t.shopsList.length?r("b-list-group",t._l(t.shopsList,(function(e){return r("b-list-group-item",{key:e.id},[r("ShopDetails",{attrs:{shop:e}}),r("div",{staticClass:"actions my-2"},[r("b-button",{staticClass:"mr-2",attrs:{to:"/shops/"+e.id}},[t._v(" Detalles ")]),r("b-button",{staticClass:"mr-2",attrs:{variant:"outline-danger"},on:{click:function(r){return t.handleShopDelete(e)}}},[t._v(" Eliminar ")])],1)],1)})),1):r("b-alert",{staticClass:"m-0",attrs:{show:""}},[t._v(" "+t._s(t.$t("shop.listEmpty"))+" ")]),r("div",{staticClass:"actions my-2"},[r("b-button",{attrs:{variant:"primary",size:"lg",to:"/shops/create"}},[t._v(" "+t._s(t.$t("shop.createNew"))+" ")])],1)],1)},n=[],a=(r("96cf"),r("1da1")),o=r("ee46"),i=r("1b22"),u=r("cc8b"),c=r("51af"),p={name:"ShopsList",components:{ShopDetails:c["a"],ErrorAlert:o["a"]},data:function(){return{requestInfo:{loading:!1,error:!1,errorMessageKey:"",errorAdditionalInfo:""}}},methods:{handleShopDelete:function(t){var e=this;return Object(a["a"])(regeneratorRuntime.mark((function r(){var s;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.next=2,Object(i["a"])(t.id);case 2:return r.next=4,Object(u["c"])();case 4:s=r.sent,e.$store.commit("user/setShops",s);case 6:case"end":return r.stop()}}),r)})))()}},computed:{shopsList:function(){return this.$store.state.user.shops}}},l=p,h=r("2877"),d=Object(h["a"])(l,s,n,!1,null,null,null);e["default"]=d.exports},a93f:function(t,e,r){"use strict";r.d(e,"a",(function(){return o}));var s=r("4360"),n=r("bc3a").default,a=s["a"].state.auth.token,o=n.create({baseURL:"https://dapp-grupob-2020-c1-backend.herokuapp.com/",headers:{Authorization:"Bearer ".concat(a),Accept:"application/json","Content-Type":"application/json"}})},cc8b:function(t,e,r){"use strict";r.d(e,"b",(function(){return a})),r.d(e,"a",(function(){return i})),r.d(e,"c",(function(){return c}));r("96cf");var s=r("1da1"),n=r("a93f");function a(){return o.apply(this,arguments)}function o(){return o=Object(s["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",Object(n["a"])({method:"GET",url:"/user/me"}));case 1:case"end":return t.stop()}}),t)}))),o.apply(this,arguments)}function i(t){return u.apply(this,arguments)}function u(){return u=Object(s["a"])(regeneratorRuntime.mark((function t(e){var r,s,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r=e.address,s=e.latitude,a=e.longitude,t.abrupt("return",Object(n["a"])({method:"POST",url:"/user/location",params:{address:r,latitude:String(s),longitude:String(a)}}));case 2:case"end":return t.stop()}}),t)}))),u.apply(this,arguments)}function c(){return p.apply(this,arguments)}function p(){return p=Object(s["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",Object(n["a"])({method:"GET",url:"/user/myshops"}));case 1:case"end":return t.stop()}}),t)}))),p.apply(this,arguments)}},ee46:function(t,e,r){"use strict";var s=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("b-alert",{attrs:{variant:"danger",show:!!t.requestInfo.error,dismissible:""}},[r("p",{staticClass:"my-1"},[t._v(" "+t._s(t.$t(t.requestInfo.errorMessageKey))+". "),t.requestInfo.errorAdditionalInfo?r("span",{directives:[{name:"b-toggle",rawName:"v-b-toggle.error-details",modifiers:{"error-details":!0}}]},[t._v("Ver Detalles.")]):t._e()]),r("b-collapse",{staticClass:"mt-2",attrs:{id:"error-details"}},[t._v(" "+t._s(t.requestInfo.errorAdditionalInfo)+" ")])],1)},n=[],a={name:"ErrorAlert",props:["requestInfo"]},o=a,i=r("2877"),u=Object(i["a"])(o,s,n,!1,null,null,null);e["a"]=u.exports}}]);
//# sourceMappingURL=shopList.8aa34b81.js.map