(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["login"],{a55b:function(t,e,r){"use strict";r.r(e);var a=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("b-container",{staticClass:"my-5"},[a("b-row",{attrs:{"align-h":"center","align-v":"center"}},[a("b-col",{attrs:{cols:"12",md:"8",lg:"6"}},[a("h1",[t._v(t._s(t.$t("login.login")))]),a("b-alert",{attrs:{variant:"danger",show:!!t.error,dismissible:""}},[t._v(" Hubo un error. "),a("span",{directives:[{name:"b-toggle",rawName:"v-b-toggle.error-details",modifiers:{"error-details":!0}}]},[t._v("Detalles")]),t._v(". "),a("b-collapse",{staticClass:"mt-2",attrs:{id:"error-details"}},[t._v(" "+t._s(t.error)+" ")])],1),a("b-card",[a("b-button",{attrs:{block:"",variant:"outline-primary"},on:{click:t.handleGoogleLogin}},[a("img",{attrs:{width:"32",height:"32",src:r("0895")}}),t._v(" "+t._s(t.$t("login.loginWithGoogle"))+" ")]),a("hr",{staticClass:"my-3"}),a("form",{on:{submit:function(e){return e.preventDefault(),t.handleLogin(e)}}},[a("b-form-group",{attrs:{id:"input-group-email",label:t.$t("login.email"),"label-for":"email"}},[a("b-form-input",{attrs:{id:"email",type:"text",name:"email",autocomplete:"email",required:"",disabled:t.loading,autofocus:""},model:{value:t.userInformation.email,callback:function(e){t.$set(t.userInformation,"email",e)},expression:"userInformation.email"}})],1),a("b-form-group",{attrs:{id:"input-group-password",label:t.$t("login.password"),"label-for":"password"}},[a("b-form-input",{attrs:{id:"password",type:"password",name:"password",autocomplete:"current-password",required:"",disabled:t.loading},model:{value:t.userInformation.password,callback:function(e){t.$set(t.userInformation,"password",e)},expression:"userInformation.password"}})],1),a("b-button",{attrs:{block:"",variant:"primary",type:"submit",disabled:t.loading}},[t.loading?a("b-spinner",{attrs:{small:""}}):a("span",[t._v(t._s(t.$t("login.login")))])],1)],1)],1),a("p",{staticClass:"my-1"},[t._v(" "+t._s(t.$t("login.dontHaveAccount"))+" "),a("router-link",{attrs:{to:"/register"}},[t._v(t._s(t.$t("login.register")))]),t._v(". ")],1)],1)],1)],1)},o=[],n=(r("d3b7"),r("25f0"),r("3ca3"),r("ddb0"),r("2b3d"),r("96cf"),r("1da1")),s=r("bc3a").default;function i(t){return l.apply(this,arguments)}function l(){return l=Object(n["a"])(regeneratorRuntime.mark((function t(e){var r,a,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r=e.email,a=e.password,o=new URL("/auth/login","https://dapp-grupob-2020-c1-backend.herokuapp.com/api/").toString(),t.abrupt("return",s({method:"POST",url:o,data:{email:r,password:a},headers:{Accept:"application/json","Content-Type":"application/json"}}));case 3:case"end":return t.stop()}}),t)}))),l.apply(this,arguments)}var u={name:"Login",data:function(){return{loading:!1,error:null,userInformation:{email:"carlos@example.com",password:"123456"}}},methods:{handleGoogleLogin:function(){var t=new URL("/oauth2/authorize/google?redirect_uri=http://localhost:3000/#/oauth2/redirect","https://dapp-grupob-2020-c1-backend.herokuapp.com/api/").toString();console.log(t),window.location=t},handleLogin:function(){var t=this;return Object(n["a"])(regeneratorRuntime.mark((function e(){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.loading=!0,t.error=null,e.prev=2,e.next=5,i(t.userInformation);case 5:r=e.sent,t.$root.$bvToast.toast(t.$t("login.loginSuccess"),{variant:"success",toaster:"b-toaster-top-right",noCloseButton:!0,autoHideDelay:4e3}),t.$store.dispatch("auth/login",r.data.accessToken),e.next=14;break;case 10:e.prev=10,e.t0=e["catch"](2),console.error(e.t0.response.data),t.error=e.t0.response.data.message;case 14:t.loading=!1;case 15:case"end":return e.stop()}}),e,null,[[2,10]])})))()}}},c=u,p=r("2877"),d=Object(p["a"])(c,a,o,!1,null,null,null);e["default"]=d.exports}}]);
//# sourceMappingURL=login.28755ffb.js.map