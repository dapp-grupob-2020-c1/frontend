{"version":3,"sources":["webpack:///./src/views/orders/Finish.vue?5eb5","webpack:///src/views/orders/Finish.vue","webpack:///./src/views/orders/Finish.vue?bbae","webpack:///./src/views/orders/Finish.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","attrs","$t","breadcrumbItems","staticClass","_v","_s","_l","activeOrder","entry","index","key","on","$event","handleDeleteEntry","product","name","brand","quantity","price","total","threshold","totalForType","type","class","_e","staticRenderFns","components","data","orderLocationId","mounted","$store","state","user","locations","id","computed","cart","active","methods","handleCancel","$router","push","component"],"mappings":"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","file":"js/ordersFinish.990af8d4.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('PageContainer',{attrs:{\"title\":_vm.$t('order.finishOrder'),\"breadcrumb-items\":_vm.breadcrumbItems}},[_c('h2',{staticClass:\"h4\"},[_vm._v(_vm._s(_vm.$t(\"order.productsList\")))]),_c('div',{staticClass:\"order-entries-list container\"},[_vm._l((_vm.activeOrder.entries),function(entry,index){return _c('div',{key:index,staticClass:\"order-entry row align-items-center mb-2 border-bottom\"},[_c('div',{staticClass:\"col-auto\"},[_c('b-button',{attrs:{\"size\":\"sm\",\"variant\":\"outline-danger\"},on:{\"click\":function($event){return _vm.handleDeleteEntry(entry)}}},[_c('b-icon-x')],1)],1),_c('div',{staticClass:\"col\"},[_c('p',{staticClass:\"mb-1\"},[_vm._v(\" \"+_vm._s(entry.product.name)+\" \"),_c('span',{staticClass:\"text-muted\"},[_vm._v(\"‐ \"+_vm._s(entry.product.brand))])]),_c('p',{staticClass:\"mb-1\"},[_vm._v(_vm._s(entry.quantity)+\" x $ \"+_vm._s(entry.product.price))])]),_c('div',{staticClass:\"col-4 col-md-3 text-right\"},[_c('p',{staticClass:\"lead m-0\"},[_vm._v(\"$ \"+_vm._s(entry.quantity * entry.product.price))])])])}),_c('div',{staticClass:\"row font-weight-bold border-top border-dark align-items-baseline py-2\"},[_c('div',{staticClass:\"col\"},[_c('p',{staticClass:\"lead\"},[_vm._v(\"Total:\")])]),_c('div',{staticClass:\"col-3 text-right\"},[_c('p',{staticClass:\"lead font-weight-bold\"},[_vm._v(\"$ \"+_vm._s(_vm.activeOrder.total))])])]),_c('p')],2),_c('h2',{staticClass:\"h4\"},[_vm._v(_vm._s(_vm.$t(\"order.typesAndThresholds\")))]),_c('div',{staticClass:\"thresholds-list\"},[_vm._l((_vm.activeOrder.thresholdsByType),function(threshold){return [(threshold.totalForType > 0)?_c('div',{key:threshold.type,staticClass:\"d-flex\"},[_c('p',[_vm._v(\" \"+_vm._s(_vm.$t((\"productTypes.\" + (threshold.type))))+\": \"),_c('span',{class:{\n              'bg-danger': threshold.totalForType <= threshold.threshold,\n            }},[_vm._v(\" $ \"+_vm._s(threshold.totalForType)+\" \"),_c('span',{staticClass:\"text-muted\"},[_vm._v(\"/ \"+_vm._s(threshold.threshold))])])])]):_vm._e()]})],2)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <PageContainer\n    :title=\"$t('order.finishOrder')\"\n    :breadcrumb-items=\"breadcrumbItems\"\n  >\n    <h2 class=\"h4\">{{ $t(\"order.productsList\") }}</h2>\n    <div class=\"order-entries-list container\">\n      <div\n        class=\"order-entry row align-items-center mb-2 border-bottom\"\n        v-for=\"(entry, index) in activeOrder.entries\"\n        :key=\"index\"\n      >\n        <div class=\"col-auto\">\n          <b-button\n            size=\"sm\"\n            variant=\"outline-danger\"\n            @click=\"handleDeleteEntry(entry)\"\n          >\n            <b-icon-x />\n          </b-button>\n        </div>\n        <div class=\"col\">\n          <p class=\"mb-1\">\n            {{ entry.product.name }}\n            <span class=\"text-muted\">&dash; {{ entry.product.brand }}</span>\n          </p>\n          <p class=\"mb-1\">{{ entry.quantity }} x $ {{ entry.product.price }}</p>\n        </div>\n        <div class=\"col-4 col-md-3 text-right\">\n          <p class=\"lead m-0\">$ {{ entry.quantity * entry.product.price }}</p>\n        </div>\n      </div>\n\n      <div\n        class=\"row font-weight-bold border-top border-dark align-items-baseline py-2\"\n      >\n        <div class=\"col\">\n          <p class=\"lead\">Total:</p>\n        </div>\n        <div class=\"col-3 text-right\">\n          <p class=\"lead font-weight-bold\">$ {{ activeOrder.total }}</p>\n        </div>\n      </div>\n      <p></p>\n    </div>\n\n    <h2 class=\"h4\">{{ $t(\"order.typesAndThresholds\") }}</h2>\n    <div class=\"thresholds-list\">\n      <template v-for=\"threshold in activeOrder.thresholdsByType\">\n        <div\n          v-if=\"threshold.totalForType > 0\"\n          :key=\"threshold.type\"\n          class=\"d-flex\"\n        >\n          <p>\n            {{ $t(`productTypes.${threshold.type}`) }}:\n            <span\n              :class=\"{\n                'bg-danger': threshold.totalForType <= threshold.threshold,\n              }\"\n            >\n              $ {{ threshold.totalForType }}\n              <span class=\"text-muted\">/ {{ threshold.threshold }}</span>\n            </span>\n          </p>\n        </div>\n      </template>\n    </div>\n  </PageContainer>\n</template>\n\n<script>\nimport PageContainer from \"../../components/PageContainer\";\n\nexport default {\n  components: { PageContainer },\n  data() {\n    return {\n      breadcrumbItems: [\n        {\n          text: this.$t(\"dashboard.dashboard\"),\n          to: \"/dashboard\",\n        },\n        {\n          text: this.$t(\"order.finishOrder\"),\n        },\n      ],\n      orderLocationId: null,\n    };\n  },\n  mounted() {\n    // select first location by default\n    if (this.$store.state.user.locations) {\n      this.orderLocationId = this.$store.state.user.locations[0].id;\n    }\n  },\n  computed: {\n    activeOrder() {\n      return this.$store.state.cart.active;\n    },\n  },\n  methods: {\n    async handleDeleteEntry(entry) {\n      await this.$store.dispatch(\n        \"cart/deleteProductFromCart\",\n        entry.product.id\n      );\n    },\n    handleCancel() {\n      this.$router.push(\"/dashboard\");\n    },\n    async handleCreateOrder() {\n      await this.$store.dispatch(\"cart/createCart\", this.orderLocationId);\n      // await this.$store.dispatch(\"user/getUserInformation\");\n      this.$router.push(\"/orders/search\");\n    },\n  },\n};\n</script>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Finish.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Finish.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Finish.vue?vue&type=template&id=33667b8c&\"\nimport script from \"./Finish.vue?vue&type=script&lang=js&\"\nexport * from \"./Finish.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}