(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["search"],{"2d3b":function(e,r,t){"use strict";t.r(r);var a=function(){var e=this,r=e.$createElement,t=e._self._c||r;return t("b-container",{staticClass:"my-5"},[t("b-breadcrumb",[t("b-breadcrumb-item",{attrs:{to:"/dashboard"}},[e._v(" "+e._s(e.$t("dashboard.dashboard"))+" ")]),t("b-breadcrumb-item",{attrs:{active:"",to:"/search"}},[e._v(" "+e._s(e.$t("search.searchProducts"))+" ")])],1),t("h1",{staticClass:"h1"},[e._v(" "+e._s(e.$t("search.searchProducts"))+" ")]),t("ErrorAlert",{attrs:{"request-info":e.requestInfo}}),t("b-card",[t("form",{on:{submit:function(r){return r.preventDefault(),e.handleSearch(r)}}},[t("b-input-group",{scopedSlots:e._u([{key:"append",fn:function(){return[t("b-button",{attrs:{block:"",variant:"primary",type:"submit"}},[e._v(" "+e._s(e.$t("search.beginSearch"))+" ")])]},proxy:!0}])},[t("b-form-input",{attrs:{id:"query",name:"query"},model:{value:e.searchQuery,callback:function(r){e.searchQuery=r},expression:"searchQuery"}})],1),t("div",{staticClass:"search-options mt-3"},[t("h3",{staticClass:"h5"},[e._v(e._s(e.$t("search.searchOptions")))]),t("p",[e._v("Opciones")])])],1)]),t("div",{staticClass:"mb-5"},[t("h2",{staticClass:"h3"},[e._v(e._s(e.$t("search.searchResults")))]),e._l(e.searchResults,(function(e){return t("ProductListItem",{key:e.id,attrs:{product:e}})}))],2)],1)},s=[],n=(t("96cf"),t("1da1")),o=t("a93f");function c(e){return i.apply(this,arguments)}function i(){return i=Object(n["a"])(regeneratorRuntime.mark((function e(r){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t={locationId:r.locationId},r.keyword&&(t.keyword=r.keyword),r.categories&&(t.categories=r.categories),r.page&&(t.page=r.page),r.size&&(t.size=r.size),r.order&&(t.order=r.order),e.abrupt("return",Object(o["a"])({method:"GET",url:"/product/search",params:t}));case 7:case"end":return e.stop()}}),e)}))),i.apply(this,arguments)}var u=function(){var e=this,r=e.$createElement,t=e._self._c||r;return t("b-card",{attrs:{title:e.product.name}},[t("pre",[e._v("  "+e._s(e.product)+"\n  ")]),t("b-button",{attrs:{variant:"primary"},on:{click:e.handleAddToCart}},[e._v(" "+e._s(e.$t("product.addToCart"))+" ")])],1)},d=[],l=(t("99af"),t("b0c0"),t("e61d")),p={name:"ProductListItem",props:{product:{required:!0}},data:function(){return{quantity:1}},computed:{},methods:{handleAddToCart:function(){var e={product:this.product.name,quantity:this.quantity},r="".concat(e.quantity," x ").concat(e.product," ").concat(this.$t("product.addedToCart"));this.$store.dispatch("buyer/addItemToCart",e),this.$root.$bvToast.toast(r,l["a"])}}},h=p,f=t("2877"),b=Object(f["a"])(h,u,d,!1,null,null,null),m=b.exports,v=t("ee46"),_={name:"Search",components:{ErrorAlert:v["a"],ProductListItem:m},data:function(){return{requestInfo:{loading:!1,error:!1,errorMessageKey:"",errorAdditionalInfo:""},searchQuery:"",searchResults:[]}},methods:{handleSearch:function(){var e=this;return Object(n["a"])(regeneratorRuntime.mark((function r(){var t,a,s;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return t=3,a={locationId:t,keyword:e.searchQuery},e.requestInfo={loading:!0,error:!1,errorMessageKey:"",errorAdditionalInfo:""},r.prev=3,r.next=6,c(a);case 6:s=r.sent,e.searchResults=s.data,r.next=13;break;case 10:r.prev=10,r.t0=r["catch"](3),e.requestInfo.error=!0;case 13:return r.prev=13,e.requestInfo.loading=!1,r.finish(13);case 16:case"end":return r.stop()}}),r,null,[[3,10,13,16]])})))()}}},y=_,g=Object(f["a"])(y,a,s,!1,null,null,null);r["default"]=g.exports},a93f:function(e,r,t){"use strict";t.d(r,"a",(function(){return o}));var a=t("4360"),s=t("bc3a").default,n=a["a"].state.auth.token,o=s.create({baseURL:"https://dapp-grupob-2020-c1-backend.herokuapp.com/",headers:{Authorization:"Bearer ".concat(n),Accept:"application/json","Content-Type":"application/json"}})},ee46:function(e,r,t){"use strict";var a=function(){var e=this,r=e.$createElement,t=e._self._c||r;return t("b-alert",{attrs:{variant:"danger",show:!!e.requestInfo.error,dismissible:""}},[t("p",{staticClass:"my-1"},[e._v(" "+e._s(e.$t(e.requestInfo.errorMessageKey))+". "),e.requestInfo.errorAdditionalInfo?t("span",{directives:[{name:"b-toggle",rawName:"v-b-toggle.error-details",modifiers:{"error-details":!0}}]},[e._v("Ver Detalles.")]):e._e()]),t("b-collapse",{staticClass:"mt-2",attrs:{id:"error-details"}},[e._v(" "+e._s(e.requestInfo.errorAdditionalInfo)+" ")])],1)},s=[],n={name:"ErrorAlert",props:["requestInfo"]},o=n,c=t("2877"),i=Object(c["a"])(o,a,s,!1,null,null,null);r["a"]=i.exports}}]);
//# sourceMappingURL=search.03118447.js.map