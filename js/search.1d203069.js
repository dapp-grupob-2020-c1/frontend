(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["search"],{"2d3b":function(t,e,s){"use strict";s.r(e);var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("b-container",{staticClass:"my-5"},[s("b-breadcrumb",[s("b-breadcrumb-item",{attrs:{to:"/dashboard"}},[t._v(" "+t._s(t.$t("dashboard.dashboard"))+" ")]),s("b-breadcrumb-item",{attrs:{active:"",to:"/search"}},[t._v(" "+t._s(t.$t("search.searchProducts"))+" ")])],1),s("h1",{staticClass:"h1"},[t._v(" "+t._s(t.$t("search.searchProducts"))+" ")]),s("ErrorAlert",{attrs:{"request-info":t.requestInfo}}),s("b-card",[s("form",{on:{submit:function(e){return e.preventDefault(),t.handleSearch(e)}}},[s("b-input-group",{scopedSlots:t._u([{key:"append",fn:function(){return[s("b-button",{attrs:{block:"",variant:"primary",type:"submit"}},[t._v(" "+t._s(t.$t("search.beginSearch"))+" ")])]},proxy:!0}])},[s("b-form-input",{attrs:{id:"query",name:"query"},model:{value:t.searchQuery,callback:function(e){t.searchQuery=e},expression:"searchQuery"}})],1),s("h3",{directives:[{name:"b-toggle",rawName:"v-b-toggle.search-options",modifiers:{"search-options":!0}}],staticClass:"h5 mt-2"},[t._v(" "+t._s(t.$t("search.searchOptions"))+" ")]),s("b-collapse",{attrs:{id:"search-options"}},[s("b-form-group",{attrs:{label:"Ubicaci√≥n"}},[s("b-form-radio-group",{attrs:{id:"radio-location",options:t.userLocationsList,"value-field":"id","text-field":"address",name:"location"},model:{value:t.selectedLocation,callback:function(e){t.selectedLocation=e},expression:"selectedLocation"}})],1)],1)],1)]),t.searchStarted?s("div",{staticClass:"my-3"},[s("h2",{staticClass:"h3"},[t._v(t._s(t.$t("search.searchResults")))]),t.searchResults.length?s("b-list-group",t._l(t.searchResults,(function(t){return s("b-list-group-item",{key:t.name},[s("ProductDetails",{attrs:{product:t,buy:""}})],1)})),1):s("b-alert",{staticClass:"m-0",attrs:{show:""}},[t._v(" "+t._s(t.$t("product.listEmpty"))+" ")])],1):t._e()],1)},r=[],o=(s("96cf"),s("1da1")),n=s("966e"),c=s("a635"),i=s("ee46"),u={name:"Search",components:{ErrorAlert:i["a"],ProductDetails:c["a"]},data:function(){return{requestInfo:{loading:!1,error:!1,errorMessageKey:"",errorAdditionalInfo:""},searchStarted:!1,searchQuery:"",searchResults:[],selectedLocation:null}},mounted:function(){this.selectedLocation=this.userLocationsList[0].id||null},computed:{userLocationsList:function(){return this.$store.state.user.locations}},methods:{handleSearch:function(){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function e(){var s,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.searchStarted=!0,s={locationId:t.selectedLocation,keyword:t.searchQuery},t.requestInfo={loading:!0,error:!1,errorMessageKey:"",errorAdditionalInfo:""},e.prev=3,e.next=6,Object(n["b"])(s);case 6:a=e.sent,t.searchResults=a.data,e.next=13;break;case 10:e.prev=10,e.t0=e["catch"](3),t.requestInfo.error=!0;case 13:return e.prev=13,t.requestInfo.loading=!1,e.finish(13);case 16:case"end":return e.stop()}}),e,null,[[3,10,13,16]])})))()}}},d=u,l=s("2877"),p=Object(l["a"])(d,a,r,!1,null,null,null);e["default"]=p.exports},"51af":function(t,e,s){"use strict";var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"shop-details"},[s("h2",{staticClass:"h3"},[t._v(t._s(t.shop.name))]),s("p",[t._v(t._s(t.shop.location.address))]),s("p",[t._v(t._s(t.$t("shop.deliveryRadius"))+": "+t._s(t.shop.deliveryRadius)+" Km")]),t.expanded?s("div",{staticClass:"shop-categories"},[s("h3",{staticClass:"h6"},[t._v(t._s(t.$t("shop.categories")))]),s("p",t._l(t.shop.categories,(function(e){return s("b-badge",{key:e,attrs:{variant:"secondary"}},[t._v(" "+t._s(e)+" ")])})),1),s("h3",{staticClass:"h6"},[t._v(t._s(t.$t("shop.paymentMethods")))]),s("p",t._l(t.shop.paymentMethods,(function(e){return s("b-badge",{key:e,attrs:{variant:"secondary"}},[t._v(t._s(e))])})),1),s("h3",{staticClass:"h6"},[t._v(t._s(t.$t("shop.openingDays")))]),s("p",[t._v(" "+t._s(t.shop.openingHour)+"-"+t._s(t.shop.closingHour)+", "),t._l(t.shop.days,(function(e){return s("b-badge",{key:e,attrs:{variant:"secondary"}},[t._v(t._s(e))])}))],2)]):t._e()])},r=[],o={name:"ShopDetails",props:{shop:{type:Object,required:!0},expanded:{type:Boolean,default:!1}}},n=o,c=s("2877"),i=Object(c["a"])(n,a,r,!1,null,null,null);e["a"]=i.exports},a635:function(t,e,s){"use strict";var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"product-details"},[s("div",{staticClass:"row"},[s("div",{staticClass:"col"},[s("h2",{staticClass:"h3"},[t._v(t._s(t.product.name))]),s("p",[t._v(t._s(t.product.brand))]),s("p",{staticClass:"lead"},[t._v(t._s(t.product.price))])]),t.product.shop?s("div",{staticClass:"col-md-6 col-lg-3"},[s("ShopDetails",{attrs:{shop:t.product.shop}})],1):t._e()]),t.buy?s("b-button",{attrs:{variant:"primary"},on:{click:t.handleAddToCart}},[t._v(" "+t._s(t.$t("product.addToCart"))+" ")]):t._e()],1)},r=[],o=(s("99af"),s("b0c0"),s("e61d")),n=s("51af"),c={name:"ProductDetails",components:{ShopDetails:n["a"]},props:{product:{type:Object,required:!0},buy:{type:Boolean,default:!1}},data:function(){return{quantity:1}},computed:{},methods:{handleAddToCart:function(){var t={product:this.product.name,quantity:this.quantity},e="".concat(t.quantity," x ").concat(t.product," ").concat(this.$t("product.addedToCart"));this.$store.dispatch("buyer/addItemToCart",t),this.$root.$bvToast.toast(e,o["a"])}}},i=c,u=s("2877"),d=Object(u["a"])(i,a,r,!1,null,null,null);e["a"]=d.exports}}]);
//# sourceMappingURL=search.1d203069.js.map