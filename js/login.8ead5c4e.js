(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["login"],{"02e6":function(e,r,t){"use strict";var o=function(){var e=this,r=e.$createElement,o=e._self._c||r;return o("b-button",{attrs:{id:"google-auth-button",variant:"outline-primary",block:"",href:e.generatedUrl()}},[o("img",{attrs:{width:"32",height:"32",src:t("0895"),alt:"Google Logo"}}),e._v(" "+e._s(e.caption||e.$t("login.loginWithGoogle"))+" ")])},n=[],a=(t("d3b7"),t("25f0"),t("3ca3"),t("ddb0"),t("2b3d"),{name:"GoogleAuthButton",props:{caption:{type:String}},methods:{generatedUrl:function(){var e=new URL("/oauth2/authorize/google?redirect_uri='http://localhost:3000/#/oauth2/redirect'","https://dapp-grupob-2020-c1-backend.herokuapp.com/").toString();return e}}}),s=a,i=t("2877"),l=Object(i["a"])(s,o,n,!1,null,null,null);r["a"]=l.exports},"0895":function(e,r,t){e.exports=t.p+"img/google.1cdc8fce.svg"},a55b:function(e,r,t){"use strict";t.r(r);var o=function(){var e=this,r=e.$createElement,t=e._self._c||r;return t("b-container",{staticClass:"my-5"},[t("b-row",{attrs:{"align-h":"center","align-v":"center"}},[t("b-col",{attrs:{cols:"12",md:"8",lg:"6"}},[t("h1",[e._v(e._s(e.$t("login.login")))]),t("ErrorAlert",{attrs:{"request-info":e.requestInfo}}),t("b-card",[t("GoogleAuthButton"),t("hr",{staticClass:"my-3"}),t("form",{on:{submit:function(r){return r.preventDefault(),e.handleLogin(r)}}},[t("b-form-group",{attrs:{id:"input-group-email",label:e.$t("login.email"),"label-for":"email"}},[t("b-form-input",{attrs:{id:"email",type:"text",name:"email",autocomplete:"email",required:"",disabled:e.requestInfo.loading,autofocus:""},model:{value:e.userInformation.email,callback:function(r){e.$set(e.userInformation,"email",r)},expression:"userInformation.email"}})],1),t("b-form-group",{attrs:{id:"input-group-password",label:e.$t("login.password"),"label-for":"password"}},[t("b-form-input",{attrs:{id:"password",type:"password",name:"password",autocomplete:"current-password",required:"",disabled:e.requestInfo.loading},model:{value:e.userInformation.password,callback:function(r){e.$set(e.userInformation,"password",r)},expression:"userInformation.password"}})],1),t("b-button",{attrs:{block:"",variant:"primary",type:"submit",disabled:e.requestInfo.loading}},[e.requestInfo.loading?t("b-spinner",{attrs:{small:""}}):t("span",[e._v(e._s(e.$t("login.login")))])],1)],1)],1),t("p",{staticClass:"my-1"},[e._v(" "+e._s(e.$t("login.dontHaveAccount"))+" "),t("router-link",{attrs:{to:"/register"}},[e._v(e._s(e.$t("login.register")))]),e._v(". ")],1)],1)],1)],1)},n=[],a=(t("96cf"),t("1da1")),s=(t("d3b7"),t("25f0"),t("3ca3"),t("ddb0"),t("2b3d"),t("bc3a").default);function i(e){return l.apply(this,arguments)}function l(){return l=Object(a["a"])(regeneratorRuntime.mark((function e(r){var t,o,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=r.email,o=r.password,n=new URL("/auth/login","https://dapp-grupob-2020-c1-backend.herokuapp.com/").toString(),e.abrupt("return",s({method:"POST",url:n,data:{email:t,password:o},headers:{Accept:"application/json","Content-Type":"application/json"}}));case 3:case"end":return e.stop()}}),e)}))),l.apply(this,arguments)}var u=t("e61d"),c=t("02e6"),p=t("ee46"),d={name:"Login",components:{ErrorAlert:p["a"],GoogleAuthButton:c["a"]},data:function(){return{requestInfo:{loading:!1,error:!1,errorMessageKey:"",errorAdditionalInfo:""},userInformation:{email:"manager@example.com",password:"123456"}}},methods:{handleLogin:function(){var e=this;return Object(a["a"])(regeneratorRuntime.mark((function r(){var t;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return e.requestInfo={loading:!0,error:!1,errorMessageKey:"",errorAdditionalInfo:""},r.prev=1,r.next=4,i(e.userInformation);case 4:t=r.sent,e.$store.dispatch("auth/login",t.data.accessToken),e.$root.$bvToast.toast(e.$t("login.loginSuccess"),u["a"]),r.next=13;break;case 9:r.prev=9,r.t0=r["catch"](1),e.requestInfo.error=!0,r.t0.response?(e.requestInfo.errorMessageKey="app.responseError",e.requestInfo.errorAdditionalInfo=r.t0.response.data.message):r.t0.request&&(e.requestInfo.errorMessageKey="app.connectionError");case 13:return r.prev=13,e.requestInfo.loading=!1,r.finish(13);case 16:case"end":return r.stop()}}),r,null,[[1,9,13,16]])})))()}}},g=d,f=t("2877"),m=Object(f["a"])(g,o,n,!1,null,null,null);r["default"]=m.exports},ee46:function(e,r,t){"use strict";var o=function(){var e=this,r=e.$createElement,t=e._self._c||r;return t("b-alert",{attrs:{variant:"danger",show:!!e.requestInfo.error,dismissible:""}},[t("p",{staticClass:"my-1"},[e._v(" "+e._s(e.$t(e.requestInfo.errorMessageKey))+". "),e.requestInfo.errorAdditionalInfo?t("span",{directives:[{name:"b-toggle",rawName:"v-b-toggle.error-details",modifiers:{"error-details":!0}}]},[e._v("Ver Detalles.")]):e._e()]),t("b-collapse",{staticClass:"mt-2",attrs:{id:"error-details"}},[e._v(" "+e._s(e.requestInfo.errorAdditionalInfo)+" ")])],1)},n=[],a={name:"ErrorAlert",props:["requestInfo"]},s=a,i=t("2877"),l=Object(i["a"])(s,o,n,!1,null,null,null);r["a"]=l.exports}}]);
//# sourceMappingURL=login.8ead5c4e.js.map